
<header id="header" name="hidden_name" style="z-index: 9999">
    <div class="d-flex flex-column">
        <nav id="navbar" class="nav-menu navbar">
            <ul>
                <li><a href="/payroll/home"  class="nav-link py-3" title="Home" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bx bx-home"></i></a></li>
                <li><a href="/payroll/employeelist"  class="nav-link py-3 pt-4" title="Employee List" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-person-lines-fill"></i></a></li>
                <li><a href="/payroll/deduction" class="nav-link py-3 pt-4" title="Employee Deduction" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-calculator"></i></a></li>
                <li><a href="/payroll/overtime" class="nav-link py-3 pt-4" title="Overtime Management" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-clock"></i></a></li>
                <li><a href="/payroll/cashadvance" class="nav-link py-3 pt-4" title="Cash Advance" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-cash-stack"></i></a></li>
                <li><a href="/payroll/contributions" class="nav-link py-3 pt-4" title="Employee Contributions" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-wallet"></i></a></li>
                <li><a href="/payroll/bonus" class="nav-link py-3 pt-4" title="Bonus" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-coin"></i></a></li>
                <li><a href="/payroll/doublepay" class="nav-link py-3 pt-4" title="Double Pay" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-check-all"></i></a></li>
                <li><a href="/payroll/holidays" class="nav-link py-3 pt-4" title="Holidays" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-calendar-event"></i></a></li>
                <li><a href="/payroll/leave" class="nav-link py-3 pt-4" title="Leave" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-person-dash"></i></a></li>
                <li><a href="/payroll/audittrail" class="nav-link py-3 pt-4" title="Audit Trail" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-list-check"></i></a></li>
                <li><a href="/payroll/approval" class="nav-link py-3 pt-4" title="Approval" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-file-earmark-check"></i></a></li>
                <li><a href="/message" class="nav-link py-3 pt-4" title="Messages" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-chat-left-text"></i> <span id='badge' style="font-size: 9px"></span></a></li>
                <li><a href="/notification" class="nav-link pt-4" title="Notifications" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-bell"></i></a></li>
            </ul>
        </nav><!-- .nav-menu -->
    </div>
</header>
<!-- End Header -->

<header id="header" name="show_name" class="d-none" style="z-index: 9999;width:250px">
    <div class="d-flex flex-column" >
        <nav id="navbar" class="nav-menu navbar">
        <ul class="w-100">
            <li><a href="/payroll/home"  class="nav-link py-3" title="Home" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bx bx-home pe-4"></i>Home</a></li>
            <li><a href="/payroll/employeelist"  class="nav-link py-3 pt-4" title="Employee List" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-person-lines-fill pe-4"></i>Employee List</a></li>
            <li><a href="/payroll/deduction" class="nav-link py-3 pt-4" title="Employee Deduction" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-calculator pe-4"></i>Deductions</a></li>
            <li><a href="/payroll/overtime" class="nav-link py-3 pt-4" title="Overtime Management" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-clock pe-4"></i>Overtime</a></li>
            <li><a href="/payroll/cashadvance" class="nav-link py-3 pt-4" title="Cash Advance" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-cash-stack pe-4"></i>Cash Advance</a></li>
            <li><a href="/payroll/contributions" class="nav-link py-3 pt-4" title="Employee Contributions" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-wallet pe-4"></i>Contribution</a></li>
            <li><a href="/payroll/bonus" class="nav-link py-3 pt-4" title="Bonus" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-coin pe-4"></i>Employee Bonus</a></li>
            <li><a href="/payroll/doublepay" class="nav-link py-3 pt-4" title="Double Pay" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-check-all pe-4"></i>Multi pay</a></li>
            <li><a href="/payroll/holidays" class="nav-link py-3 pt-4" title="Holidays" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-calendar-event pe-4"></i>Holiday</a></li>
            <li><a href="/payroll/leave" class="nav-link py-3 pt-4" title="Leave" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-person-dash pe-4"></i>Leave</a></li>
            <li><a href="/payroll/audittrail" class="nav-link py-3 pt-4" title="Audit Trail" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-list-check pe-4"></i>Audit Logs</a></li>
            <li><a href="/payroll/approval" class="nav-link py-3 pt-4" title="Approval" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-file-earmark-check pe-4"></i>Approvals</a></li>
            <li><a href="/message" class="nav-link py-3 pt-4" title="Messages" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-chat-left-text pe-4"></i>Messages <span id='extended_badge' style="font-size: 9px"></span></a></li>
            <li><a href="/notification" class="nav-link pt-4" title="Notifications" data-bs-toggle="tooltip" data-bs-placement="right"><i class="bi bi-bell pe-4"></i>Notification</a></li>
        </ul>
        </nav><!-- .nav-menu -->
    </div>
</header>

<script>
    $(document).ready(function(){

        $("[name='hidden_name']").hover(
            function (){

                $("[name='hidden_name']").toggleClass('d-none')
                $("[name='show_name']").toggleClass('d-none')
            },
            function (){
                $("[name='hidden_name']").toggleClass('d-none')
                $("[name='show_name']").toggleClass('d-none')
            }
        )

        $("[name='show_name']").hover(
            function (){

                $("[name='hidden_name']").toggleClass('d-none')
                $("[name='show_name']").toggleClass('d-none')
            },
            function (){
                $("[name='hidden_name']").toggleClass('d-none')
                $("[name='show_name']").toggleClass('d-none')
            }
        )

        function load_chat(){
                $.ajax({
                url: `/fetchNavBarMessageCount`,
                type: 'get',
                success: function(response){
                    var badge = document.getElementById('badge')
                    var extended_badge = document.getElementById('extended_badge')

                    if(parseInt(response)){
                        var badgeClass = 'badge badge-pill bg-danger p-2 ms-3 rounded'
                        badge.innerHTML = response
                        extended_badge.innerHTML = response

                        badge.className = badgeClass
                        extended_badge.className = badgeClass
                    }else{
                        var badgeClass = 'badge badge-pill bg-danger p-2 ms-1 rounded d-none'
                        badge.className = badgeClass
                        extended_badge.className = badgeClass
                    }
                }
            });
            }
            load_chat()
            myInterval = setInterval(function(){
                load_chat()
            }, 5000);
    });
</script>

